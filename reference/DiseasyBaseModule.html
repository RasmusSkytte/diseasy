<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Base module for diseasy — DiseasyBaseModule • diseasy</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Base module for diseasy — DiseasyBaseModule"><meta name="description" content="The DiseasyBaseModule module implements common functionality that all modules have available.
Most notably, the base module facilitates:
logging:
A lgr logger is configured when making any module that inherits from the base module.
This logger is stored in private$lg.
hashing:
The active binding self$hash hashes the values of public fields to provide a way to uniquely identify the
configuration of modules.
Care must be taken to ensure that information that makes modules distinct are also stored in public fields.
That is, if an important property is stored only as a private field, the hash will not change.
Module-specific tests should be written to ensure hash changes as expected.
caching:
The methods private$cache(), private$get_hash() private$is_cached(hash) implements a simple caching system
whereby the results of method calls can be cached to improve the performance of the modules.
module loading:
Modules instances are sometimes loaded into other modules. The private$load_module(module) method provides the
functionality to handle this loading (including cloning of the module and passing of the new module to
already-loaded modules)

"><meta property="og:description" content="The DiseasyBaseModule module implements common functionality that all modules have available.
Most notably, the base module facilitates:
logging:
A lgr logger is configured when making any module that inherits from the base module.
This logger is stored in private$lg.
hashing:
The active binding self$hash hashes the values of public fields to provide a way to uniquely identify the
configuration of modules.
Care must be taken to ensure that information that makes modules distinct are also stored in public fields.
That is, if an important property is stored only as a private field, the hash will not change.
Module-specific tests should be written to ensure hash changes as expected.
caching:
The methods private$cache(), private$get_hash() private$is_cached(hash) implements a simple caching system
whereby the results of method calls can be cached to improve the performance of the modules.
module loading:
Modules instances are sometimes loaded into other modules. The private$load_module(module) method provides the
functionality to handle this loading (including cloning of the module and passing of the new module to
already-loaded modules)

"><meta property="og:image" content="https://ssi-dk.github.io/diseasy/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">diseasy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/diseasy.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Functional modules</h6></li>
    <li><a class="dropdown-item" href="../articles/diseasy-activity.html">DiseasyActivity</a></li>
    <li><a class="dropdown-item" href="../articles/diseasy-observables.html">DiseasyObservables</a></li>
    <li><a class="dropdown-item" href="../articles/diseasy-season.html">DiseasySeason</a></li>
    <li><a class="dropdown-item" href="../articles/diseasy-variant.html">DiseasyVariant</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer guides</h6></li>
    <li><a class="dropdown-item" href="../articles/creating-a-model.html">Creating a model</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ssi-dk/diseasy/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Base module for diseasy</h1>
      <small class="dont-index">Source: <a href="https://github.com/ssi-dk/diseasy/blob/feature/cachem-cache/R/DiseasyBaseModule.R" class="external-link"><code>R/DiseasyBaseModule.R</code></a></small>
      <div class="d-none name"><code>DiseasyBaseModule.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>DiseasyBaseModule</code> module implements common functionality that all modules have available.
Most notably, the base module facilitates:</p><ul><li><p>logging:
A <code>lgr</code> logger is configured when making any module that inherits from the base module.
This logger is stored in <code>private$lg</code>.</p></li>
<li><p>hashing:
The active binding <code>self$hash</code> hashes the values of public fields to provide a way to uniquely identify the
configuration of modules.
Care must be taken to ensure that information that makes modules distinct are also stored in public fields.
That is, if an important property is stored only as a private field, the hash will not change.
Module-specific tests should be written to ensure hash changes as expected.</p></li>
<li><p>caching:
The methods <code>private$cache()</code>, <code>private$get_hash()</code> <code>private$is_cached(hash)</code> implements a simple caching system
whereby the results of method calls can be cached to improve the performance of the modules.</p></li>
<li><p>module loading:
Modules instances are sometimes loaded into other modules. The <code>private$load_module(module)</code> method provides the
functionality to handle this loading (including cloning of the module and passing of the new module to
already-loaded modules)</p></li>
</ul></div>


    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A new instance of the <code>DiseasyBaseModule</code> <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://s-fleck.github.io/lgr/reference/lgr-package.html" class="external-link">lgr</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>hash</code></dt>
<dd><p>(<code>character</code>)<br>
Computes a hash value for the module. Useful for logging and caching. Read only.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-DiseasyBaseModule-new"><code>DiseasyBaseModule$new()</code></a></p></li>
<li><p><a href="#method-DiseasyBaseModule-set_moduleowner"><code>DiseasyBaseModule$set_moduleowner()</code></a></p></li>
<li><p><a href="#method-DiseasyBaseModule-load_module"><code>DiseasyBaseModule$load_module()</code></a></p></li>
<li><p><a href="#method-DiseasyBaseModule-finalize"><code>DiseasyBaseModule$finalize()</code></a></p></li>
<li><p><a href="#method-DiseasyBaseModule-clone"><code>DiseasyBaseModule$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-DiseasyBaseModule-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of the <code>DiseasyBaseModule</code> <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.
This module is typically not constructed directly but rather through derived classes.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/DiseasyBaseModule.html">DiseasyBaseModule</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  moduleowner <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">self</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  logging <span class="op">=</span> <span class="fu"><a href="../reference/diseasyoption.html">diseasyoption</a></span><span class="op">(</span><span class="st">"logging"</span>, <span class="va">self</span><span class="op">)</span>,</span>
<span>  cache <span class="op">=</span> <span class="fu"><a href="../reference/diseasyoption.html">diseasyoption</a></span><span class="op">(</span><span class="st">"cache"</span>, <span class="va">self</span>, .default <span class="op">=</span> <span class="fu">cachem</span><span class="fu">::</span><span class="fu"><a href="https://cachem.r-lib.org/reference/cache_mem.html" class="external-link">cache_mem</a></span><span class="op">(</span>max_size <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>moduleowner</code></dt>
<dd><p>(<code>character</code>)<br>
The name of the moduleowner. Used when logging.</p></dd>


<dt><code>logging</code></dt>
<dd><p>(<code>boolean</code>)<br>
Should logging be enabled?</p></dd>


<dt><code>cache</code></dt>
<dd><p>(<code>cachem</code>)<br>
A cache generated by <code>cachem</code> to use for caching results.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DiseasyBaseModule-set_moduleowner"></a><div class="section">
<h3 id="method-set-moduleowner-">Method <code>set_moduleowner()</code><a class="anchor" aria-label="anchor" href="#method-set-moduleowner-"></a></h3>
<p>Changes the "ownership" of the module. Used when logging.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DiseasyBaseModule</span><span class="op">$</span><span class="fu">set_moduleowner</span><span class="op">(</span><span class="va">moduleowner</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>moduleowner</code></dt>
<dd><p>(<code>character</code>)<br>
The name of the moduleowner.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p><code>NULL</code></p>
</div>

</div><p></p><hr><a id="method-DiseasyBaseModule-load_module"></a><div class="section">
<h3 id="method-load-module-">Method <code>load_module()</code><a class="anchor" aria-label="anchor" href="#method-load-module-"></a></h3>
<p>Loads a copy of the provided module into the module.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DiseasyBaseModule</span><span class="op">$</span><span class="fu">load_module</span><span class="op">(</span><span class="va">module</span>, clone <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>module</code></dt>
<dd><p>(<code>R6::R6Class instance</code>)<br>
This instance is cloned to the field with the same name as the class of the module</p></dd>


<dt><code>clone</code></dt>
<dd><p>(<code>boolean</code>)<br>
Toggle whether or not the module should be cloned when loading. Default TRUE.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>The methods allows the setting of the internal module instances after the instance is created.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p><code>NULL</code></p>
</div>

</div><p></p><hr><a id="method-DiseasyBaseModule-finalize"></a><div class="section">
<h3 id="method-finalize-">Method <code>finalize()</code><a class="anchor" aria-label="anchor" href="#method-finalize-"></a></h3>
<p>Handles the clean-up of the class</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DiseasyBaseModule</span><span class="op">$</span><span class="fu">finalize</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-DiseasyBaseModule-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DiseasyBaseModule</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co"># Normally, you would not want to create this module directly, but it is possible.</span></span></span>
<span class="r-in"><span>  <span class="va">base_module</span> <span class="op">&lt;-</span> <span class="va">DiseasyBaseModule</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">base_module</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rasmus Skytte Randløv, Marcus Munch Grünewald, Lasse Engbo Christiansen, Kaare Græsbøll, <a href="https://www.ssi.dk/" class="external-link"><img src="https://www.ssi.dk/assets/images/ssi-logo-optimeret.svg" alt="SSI" height="64" style="margin-bottom: 0.5em; margin-top: 1.5em;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

