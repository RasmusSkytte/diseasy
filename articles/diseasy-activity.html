<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="diseasy">
<title>DiseasyActivity • diseasy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DiseasyActivity">
<meta property="og:description" content="diseasy">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">diseasy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/diseasy-activity.html">DiseasyActivity</a>
    <a class="dropdown-item" href="../articles/diseasy-observables.html">DiseasyObservables</a>
    <a class="dropdown-item" href="../articles/diseasy-season.html">DiseasySeason</a>
    <a class="dropdown-item" href="../articles/quick-start.html">Quick start</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ssi-dk/diseasy/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>DiseasyActivity</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ssi-dk/diseasy/blob/HEAD/vignettes/diseasy-activity.Rmd" class="external-link"><code>vignettes/diseasy-activity.Rmd</code></a></small>
      <div class="d-none name"><code>diseasy-activity.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ssi-dk/diseasy" class="external-link">diseasy</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: diseasystore</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'diseasy'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:diseasystore':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     %.%, diseasyoption</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>DiseasyActivity</code> is the module responsible for the
implementation of contact matrices and societal restrictions.</p>
</div>
<div class="section level2">
<h2 id="configuring-the-module">Configuring the module<a class="anchor" aria-label="anchor" href="#configuring-the-module"></a>
</h2>
<p>The module can be initialized without setting any parameters.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/DiseasyActivity.html">DiseasyActivity</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>By default, the module initializes with no activity scenario, and
produces empty outputs. (See <a href="#interfacing">the interfacing
section</a> for ways to get metrics from the module)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_openness</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; list()</span></span></code></pre></div>
<p>To use the module, we must define the activity scenario. In the
example below, we configure the module to use Danish activity units and
the “contact basis” for Denmark (i.e basic contact matrices and
population information).</p>
<p>NOTE: the given contact basis uses counts of contacts between
individuals rather than rates. Having contacts as counts is important if
you want to project the contact matrices into different age groups. (see
<code><a href="../reference/contact_basis.html">?contact_basis</a></code> for more details on how the
<code>contact_basis</code> is constructed)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">set_activity_units</span><span class="op">(</span><span class="va">dk_activity_units</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">set_contact_basis</span><span class="op">(</span><span class="va">contact_basis</span><span class="op">$</span><span class="va">DK</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This configuration can also be done as part of the constructor</span></span>
<span><span class="co"># act &lt;- DiseasyActivity$new(activity_units = dk_activity_units</span></span>
<span><span class="co">#                            contact_basis = contact_basis$DK)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="defining-an-activity-scenario">Defining an activity scenario<a class="anchor" aria-label="anchor" href="#defining-an-activity-scenario"></a>
</h2>
<p>Once <code>activity_units</code> and <code>contact_basis</code> is
supplied, we can configure the activity scenario. In this example we
have a single activity defined (the <code>baseline</code> activity)
starting from 2023-01-01.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">change_activity</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span>, opening <span class="op">=</span> <span class="st">"baseline"</span><span class="op">)</span></span></code></pre></div>
<p>To get an overview of the loaded activities, we can use the
<code>$get_scenario_activities()</code> method.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_activities</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-01-01`</span></span>
<span><span class="co">#&gt; [1] "baseline"</span></span></code></pre></div>
<p>Calls to <code>$change_activity</code> are cumulative, which means
that we can expand our existing scenario:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">change_activity</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-11"</span><span class="op">)</span>, opening <span class="op">=</span> <span class="st">"lockdown_2020"</span>, closing <span class="op">=</span> <span class="st">"baseline"</span><span class="op">)</span></span>
<span><span class="co"># NOTE: we also have to "close" the "baseline" activity unit. The activity described by this unit is</span></span>
<span><span class="co"># no longer in effect while the "lockdown_2020" activity unit is active.</span></span>
<span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_activities</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-01-01`</span></span>
<span><span class="co">#&gt; [1] "baseline"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; [1] "lockdown_2020"</span></span></code></pre></div>
<p>If we try to add the same <code>activity_unit</code> while it is
already open, the module will give an error:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">change_activity</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-11"</span><span class="op">)</span>, opening <span class="op">=</span> <span class="st">"lockdown_2020"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in act$change_activity(date = as.Date("2020-03-11"), opening = "lockdown_2020"): </span></span>
<span><span class="co">#&gt; Some of lockdown_2020 are already open!</span></span></code></pre></div>
<p>By default, activity units are added with a risk modifier of 1. The
module includes the option to set an overall risk associated with each
of the 4 types of activity (“home”, “work”, “school”, “other”).</p>
<p>Having the risk as a separate modifier, allows the activity units to
describe the level of contacts between individuals while the risk
modifier can describe risk-mitigation measures that effect these
contacts.</p>
<p>To modify the associated risk, we use the <code>$change_risk()</code>
method.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mitigation measures in workplaces reduce the risk</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">change_risk</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-11"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"work"</span>, risk <span class="op">=</span> <span class="fl">0.45</span><span class="op">)</span></span>
<span></span>
<span><span class="va">act</span><span class="op">$</span><span class="va">risk_matrix</span></span>
<span><span class="co">#&gt;        2020-01-01 2020-03-11</span></span>
<span><span class="co">#&gt; home            1       1.00</span></span>
<span><span class="co">#&gt; work            1       0.45</span></span>
<span><span class="co">#&gt; school          1       1.00</span></span>
<span><span class="co">#&gt; other           1       1.00</span></span></code></pre></div>
<p>To create a new activity scenario with an active instance of the
module, we can use the <code>$reset_scenario()</code> method:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">reset_scenario</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_activities</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; list()</span></span></code></pre></div>
<p>The scenario can also be loaded directly from a
<code>data.frame</code> such as the
<code>dk_reference_scenario</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dk_reference_scenario</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 301 × 4</span></span></span>
<span><span class="co">#&gt;   date       opening                          closing  social_distance_work</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01 baseline                         <span style="color: #BB0000;">NA</span>                       1   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-03-11 <span style="color: #BB0000;">NA</span>                               baseline                 0.45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-03-11 lockdown_2020                    <span style="color: #BB0000;">NA</span>                       0.45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-04-15 secondary_education_phase_1_2020 <span style="color: #BB0000;">NA</span>                       0.45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-04-15 private_companies_phase_1_2020   <span style="color: #BB0000;">NA</span>                       0.45</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 296 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">change_activity</span><span class="op">(</span><span class="va">dk_reference_scenario</span><span class="op">)</span></span>
<span><span class="va">activities</span> <span class="op">&lt;-</span> <span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_activities</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># NOTE: The full list of activities is too long to print in this vignette</span></span>
<span><span class="va">activities</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="co">#&gt; $`2020-01-01`</span></span>
<span><span class="co">#&gt; [1] "baseline"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; [1] "lockdown_2020"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-04-15`</span></span>
<span><span class="co">#&gt; [1] "lockdown_2020"                     "secondary_education_phase_1_2020" </span></span>
<span><span class="co">#&gt; [3] "private_companies_phase_1_2020"    "daycares_and_schools_phase_1_2020"</span></span></code></pre></div>
<p>The loaded scenario can be “cropped” through the
<code>$crop_scenario()</code> method.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">crop_scenario</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-01"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-04-15"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_activities</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-03-01`</span></span>
<span><span class="co">#&gt; [1] "baseline"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; [1] "lockdown_2020"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-04-15`</span></span>
<span><span class="co">#&gt; [1] "lockdown_2020"                     "secondary_education_phase_1_2020" </span></span>
<span><span class="co">#&gt; [3] "private_companies_phase_1_2020"    "daycares_and_schools_phase_1_2020"</span></span>
<span></span>
<span><span class="co"># NOTE: The full list of activities in the scenario is shown here</span></span>
<span><span class="co"># NOTE: The start date of the "baseline" activity is now updated to the given date</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interfacing">Interfacing with the activity scenario<a class="anchor" aria-label="anchor" href="#interfacing"></a>
</h2>
<p>For these examples, we reduce the activity scenario to just a single
activity:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">reset_scenario</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">change_activity</span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-03-11"</span><span class="op">)</span>, opening <span class="op">=</span> <span class="st">"baseline"</span><span class="op">)</span></span></code></pre></div>
<p>With the activity scenario loaded, we query the module in different
ways to get contact metrics from the module for the scenario.</p>
<div class="section level3">
<h3 id="contact-matrices">Contact matrices<a class="anchor" aria-label="anchor" href="#contact-matrices"></a>
</h3>
<p>Several disease models uses contact matrices to structure the
populations.</p>
<p>To retrieve the contact matrices from the module, we use the
<code>$get_scenario_contacts()</code> method:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can project the matrices into custom age-groups by providing the "age_cuts_lower" argument</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_contacts</span><span class="op">(</span>age_cuts_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; $`2020-03-11`$home</span></span>
<span><span class="co">#&gt;        00-59     60+</span></span>
<span><span class="co">#&gt; 00-59 0.0025 0.00050</span></span>
<span><span class="co">#&gt; 60+   0.0005 0.00025</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$work</span></span>
<span><span class="co">#&gt;         00-59     60+</span></span>
<span><span class="co">#&gt; 00-59 1.5e-03 7.5e-05</span></span>
<span><span class="co">#&gt; 60+   7.5e-05 5.6e-06</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$school</span></span>
<span><span class="co">#&gt;         00-59     60+</span></span>
<span><span class="co">#&gt; 00-59 1.2e-03 3.1e-06</span></span>
<span><span class="co">#&gt; 60+   3.1e-06 2.6e-08</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$other</span></span>
<span><span class="co">#&gt;         00-59     60+</span></span>
<span><span class="co">#&gt; 00-59 0.00246 0.00037</span></span>
<span><span class="co">#&gt; 60+   0.00037 0.00027</span></span></code></pre></div>
<p>The <code>DiseasyActivity</code> module provides separate matrices
for the four arenas: “home”, “school”, “work”, and “other”. These
matrices can be combined by supplying a <code>weights</code> argument to
the <code>$get_scenario_contacts()</code> method.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_contacts</span><span class="op">(</span>age_cuts_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span><span class="op">)</span>, weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt;         00-19   20-39   40-59   60-79     80+</span></span>
<span><span class="co">#&gt; 00-19 0.00174 5.4e-04 4.7e-04 0.00018 3.0e-05</span></span>
<span><span class="co">#&gt; 20-39 0.00054 1.3e-03 7.9e-04 0.00029 3.6e-05</span></span>
<span><span class="co">#&gt; 40-59 0.00047 7.9e-04 1.1e-03 0.00036 5.7e-05</span></span>
<span><span class="co">#&gt; 60-79 0.00018 2.9e-04 3.6e-04 0.00042 5.0e-05</span></span>
<span><span class="co">#&gt; 80+   0.00003 3.6e-05 5.7e-05 0.00005 9.6e-06</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="societal-openness">Societal openness<a class="anchor" aria-label="anchor" href="#societal-openness"></a>
</h3>
<p>A simpler metric for societal activity is the degree of “openness”,
i.e. degree to which their activity is limited relative to an open
society.</p>
<p>This value ranges from 1 (normal activity) to 0 (no activity).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_openness</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; $`2020-03-11`$home</span></span>
<span><span class="co">#&gt; 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64 </span></span>
<span><span class="co">#&gt;     1     1     1     1     1     1     1     1     1     1     1     1     1 </span></span>
<span><span class="co">#&gt; 65-69 70-74   75+ </span></span>
<span><span class="co">#&gt;     1     1     1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$work</span></span>
<span><span class="co">#&gt; 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64 </span></span>
<span><span class="co">#&gt;     1     1     1     1     1     1     1     1     1     1     1     1     1 </span></span>
<span><span class="co">#&gt; 65-69 70-74   75+ </span></span>
<span><span class="co">#&gt;     1     1     1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$school</span></span>
<span><span class="co">#&gt; 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64 </span></span>
<span><span class="co">#&gt;     1     1     1     1     1     1     1     1     1     1     1     1     1 </span></span>
<span><span class="co">#&gt; 65-69 70-74   75+ </span></span>
<span><span class="co">#&gt;     1     1     1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`2020-03-11`$other</span></span>
<span><span class="co">#&gt; 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64 </span></span>
<span><span class="co">#&gt;     1     1     1     1     1     1     1     1     1     1     1     1     1 </span></span>
<span><span class="co">#&gt; 65-69 70-74   75+ </span></span>
<span><span class="co">#&gt;     1     1     1</span></span></code></pre></div>
<p>The degree of openness can be queried similarly to the contact
matrices:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">get_scenario_openness</span><span class="op">(</span>age_cuts_lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span><span class="op">)</span>, weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`2020-03-11`</span></span>
<span><span class="co">#&gt; 00-19 20-39 40-59 60-79   80+ </span></span>
<span><span class="co">#&gt;     1     1     1     1     1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="inspecting-the-module">Inspecting the module<a class="anchor" aria-label="anchor" href="#inspecting-the-module"></a>
</h2>
<p>As we saw above, we can use the <code>$describe()</code> method to
get a human readable summary of the module</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="fu">describe</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # DiseasyActivity ############################################</span></span>
<span><span class="co">#&gt; Scenario: Overview</span></span>
<span><span class="co">#&gt;          2020-03-11</span></span>
<span><span class="co">#&gt; baseline          1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contact basis: Contact matrices for Denmark from the `contactdata` package and population data for</span></span>
<span><span class="co">#&gt; Denmark from the US Census Bureau.</span></span></code></pre></div>
<p>We can also inspect the individual elements of the module more
carefully such as the <code>$scenario_matrix</code> and
<code>$risk_matrix</code>. Both provide the internal representation of
the loaded scenario.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="va">scenario_matrix</span></span>
<span><span class="co">#&gt;          2020-03-11</span></span>
<span><span class="co">#&gt; baseline          1</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span><span class="op">$</span><span class="va">risk_matrix</span></span>
<span><span class="co">#&gt;        2020-03-11</span></span>
<span><span class="co">#&gt; home            1</span></span>
<span><span class="co">#&gt; work            1</span></span>
<span><span class="co">#&gt; school          1</span></span>
<span><span class="co">#&gt; other           1</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rasmus Skytte Randløv, Marcus Munch Grünewald, Lasse Engbo Christiansen, Kaare Græsbøll, <a href="https://www.ssi.dk/" class="external-link"><img src="https://www.ssi.dk/assets/images/ssi-logo-optimeret.svg" alt="SSI" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
